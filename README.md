# 分层架构的理解
以POS Shell为例

## 分层结构

在POS Shell这个简单的系统中系统被分层四层，个人的理解这四层抽象程度应该按照model，db,biz(business)，cli顺序不断增加
1. model, 主要复杂对数据库的中的数据模型进行反序列化抽象，就数据库或者文件中序列化数据抽象成java中类的组合形式,并加入数据的操作，这些操作需要满足数据自身的约束
2. db,根据model的抽象进行数据库进行管理，使用model层提供的数据模型，向上层提供数据
3. biz,业务层，使用db层提供的接口，上cli层提供业务操作的接口。在该层需要检查操作是否满足是否满足具体的业务要求。比如不能输入小于0的amount。
4. cli，使用业务层提供的业务操作接口，向用户提供操作合适的接口

## 在学习分层架构使用的过程遇到的问题

在使用分层机构时，需要确认每一层需要负责任务，一个任务可以在biz层完成，也可以在model完成。如何确定在哪一层完成呢？作业是根据该任务的耦合性来决定的，通常层数越底层变化越小，越上层变化的灵活性越大。

以修改amount的数量是否大于0，可以在biz层进行检查，也可以位与model层进行检查。但是对于修改cart中的item时，检查就只能位于biz层中。

然后最后使用的过程，我认为一个优秀的设计是不会出现跨层的操作。但是具体的系统这种情况就比较理想，就比如tcp/ip协议层。
